import numpy as np
import matplotlib.pyplot as plt

"""same shearExp (0.1), varied spacing"""
#
# space = np.array([2.0,2.5,3.0,3.5,4.0,5.0])
#
# #SAME
# COEsame = np.array([ 99.34183818,  83.91513794,  75.62531924,  70.60344752,  67.28592267,
#   63.27214169])
# AEPsame = np.array([  2.03321810e+08,   2.42912370e+08,   2.71830888e+08,   2.92697641e+08,
#    3.09084416e+08,   3.30732013e+08])
# turbineH1same = np.array([ 113.03881058,  111.96512308,  111.89737449,  111.51420242,  112.13689311,
#   112.07411903])
# turbineH2same = np.array([ 113.03881058,  111.96512308,  111.89737449,  111.51420242,  112.13689311,
#   112.07411903])
# diffArraysame = np.array([ 0.,  0.,  0.,  0.,  0.,  0.])
#
#
# #diff
# COEdiff = np.array([ 88.82850753,  78.23547601,  72.39661001,  68.64064142,  66.06122056,
#   62.9536135 ])
# AEPdiff = np.array([  2.36634250e+08,   2.65571068e+08,   2.83003249e+08,   2.97580734e+08,
#    3.10206906e+08,   3.27166149e+08])
# turbineH1diff = np.array([ 138.46392492,  133.53826575,  128.02279035,  125.66605347,  125.473719,
#   125.473719  ])
# turbineH2diff = np.array([ 73.2,         73.2,         73.2,         73.2,         73.2,         73.20128857])
# diffArraydiff = np.array([ 65.26392492,  60.33826575,  54.82279035,  52.46605347,  52.273719,
#   52.27243042])
#
# #original
# COEorg = np.array([ 108.34721034,   91.43963369,   82.34806216,   76.84013981,   73.2022151,
#    68.80025702])
# AEPorg = np.array([  1.89884033e+08,   2.27508463e+08,   2.54639392e+08,   2.74468760e+08,
#    2.89351212e+08,   3.09668754e+08])
#
# #worst
# COEworst = np.array([ 108.34721034,   93.18713405,   84.05304211,   78.15644615,   74.15876109,
#    69.27362755])
# AEPworst = np.array([  1.89884033e+08,   2.22942728e+08,   2.49069234e+08,   2.69454148e+08,
#    2.85283868e+08,   3.07347987e+08])
#
#
#
# plt.figure(1)
# plt.plot(space, COEworst, c='k', label='Grid')
# plt.plot(space, COEorg, c='y', label='Opt XY')
# plt.plot(space, COEsame, c='r', label='Opt XYZ: Same')
# plt.plot(space, COEdiff, c='b', label = 'Opt XYZ: Diff')
#
#
# plt.plot(space, COEsame, 'or')
# plt.plot(space, COEdiff, 'ob')
# plt.plot(space, COEorg, 'oy')
# plt.plot(space, COEworst, 'ok')
# leg = plt.legend(loc=1)
# leg.get_frame().set_alpha(0.0)
# # plt.legend()
# plt.title('COE w.r.t. Spacing')
# plt.savefig('COE_wrt_spacing.pdf', transparent=True)
#
# plt.figure(2)
# plt.plot(space, AEPdiff, c='b', label = 'Opt XYZ: Diff')
# plt.plot(space, AEPsame, c='r', label='Opt XYZ: Same')
# plt.plot(space, AEPorg, c='y', label='Opt XY')
# plt.plot(space, AEPworst, c='k', label='Grid')
# plt.plot(space, AEPsame, 'or')
# plt.plot(space, AEPdiff, 'ob')
# plt.plot(space, AEPorg, 'oy')
# plt.plot(space, AEPworst, 'ok')
# leg = plt.legend(loc=2)
# leg.get_frame().set_alpha(0.0)
# # plt.legend(loc=2)
# plt.title('AEP w.r.t. Spacing')
# plt.savefig('AEP_wrt_spacing.pdf', transparent=True)
# # plt.show()
#
# plt.figure(3)
# plt.plot(space, diffArraydiff)
# plt.title('Height Diff vs. Spacing')
#
#
#
# """same spacing (3.1), varied shearExp"""
#
# shear_ex = np.array([0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29])
# shear_exSNOPT = np.array([0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18])
# #diff
# COEdiff = np.array([ 73.22088084,  73.04732056,  72.90956135,  72.81718533,  72.66720182,
#   72.52598988,  72.34327117,  72.09806923,  71.88276271,  71.72541392,
#   71.44782218,  71.29048836,  70.96495923,  70.56917743,  70.12086854,
#   66.82379056,  66.23847208,  65.96461506,  65.46093303,  65.03261136,
#   64.68034956,  63.88017337])
# AEPdiff = np.array([  2.82698468e+08,   2.83822165e+08,   2.85723846e+08,   2.88070334e+08,
#    2.90275526e+08,   2.92726079e+08,   2.95307188e+08,   2.98615170e+08,
#    3.01233343e+08,   3.03541376e+08,   3.07661267e+08,  3.12310941e+08,
#    3.15741639e+08,   3.19021102e+08,   3.26634905e+08,   3.25982057e+08,
#    3.29533084e+08,  3.35109350e+08,   3.40568673e+08,  3.45731671e+08,
#    3.51673306e+08,   3.57098866e+08])
# turbineH1diff = np.array([ 125.58779547,  125.92421627,  126.9482126,   128.40369685,  129.51799296,
#   130.7758175,   131.94495749,  133.34303903,  134.33532233,  135.26172381,
#   136.74044076,  138.08777879,  138.27551276,  138.19356306,  137.9323678,
#   125.56906305, 125.77170103,  128.0862233,   129.4463291,   130.8564549,
#   132.6946073,   132.69567097])
# turbineH2diff = np.array([  73.2,          73.2,          73.2,          73.2,          73.2,          73.2,
#    73.2,          73.2,          73.2,          73.2,          73.84827281,
#    78.27650695,   82.97626489,   87.69112024,  106.1464802,   125.47515325,
#   125.65813476,  125.69292109,  125.92456725,  125.68318632,  125.80501279,
#   127.55178378])
# diffArraydiff = np.array([ 52.38779547,  52.72421627,  53.7482126,   55.20369685,  56.31799296,
#   57.5758175,   58.74495749,  60.14303903,  61.13532233,  62.06172381,
#   62.89216795,  59.81127184,  55.29924786,  50.50244282,  31.7858876,
#    0.09390979,   0.11356627,   2.3933022,    3.52176185,   5.17326858,
#    6.88959451,   5.14388719])
#
# #worst
# COEworst = np.array([ 82.66463907,  82.66463907,  82.66463907,  82.66463907,  82.66463907,
#   82.66463907,  82.66463907,  82.66463907,  82.66463907,  82.66463907,
#   82.66463907,  82.66463907,  82.66463907,  82.66463907,  82.66463907,
#   82.66463907,  82.66463907,  82.66463907,  82.66463907,  82.66463907,
#   82.66463907,  82.66463907])
# AEPworst = np.array([  2.53586380e+08,   2.53586380e+08,   2.53586380e+08,   2.53586380e+08,
#    2.53586380e+08,   2.53586380e+08,   2.53586380e+08,   2.53586380e+08,
#    2.53586380e+08,   2.53586380e+08,   2.53586380e+08,   2.53586380e+08,
#    2.53586380e+08,   2.53586380e+08,   2.53586380e+08,   2.53586380e+08,
#    2.53586380e+08,   2.53586380e+08,   2.53586380e+08,   2.53586380e+08,
#    2.53586380e+08,   2.53586380e+08])
#
#
# #same_opt
# COEsame = np.array([ 76.6704938,   75.88379508,  75.91521982,  75.44044132,  74.96183399,
#   74.35195014,  73.88049627,  73.27650062,  72.61086635,  71.95092613,
#   71.29811286,  70.65249287,  70.01401431,  69.38196865,  68.15027278,
#   68.13923023,  67.53166465,  66.92977943,  66.37129893,  65.68328319,
#   65.09233123,  64.45933299 ])
# AEPsame = np.array([  2.63321281e+08,   2.69144328e+08,   2.71194617e+08,   2.73561069e+08,
#    2.78060869e+08,   2.79397313e+08,   2.88097097e+08,   2.94292937e+08,
#    2.97296922e+08,   3.00243168e+08,   3.03216831e+08,   3.06217386e+08,
#    3.09245243e+08,   3.12304524e+08,   3.18559437e+08,   3.19386562e+08,
#    3.24044808e+08,   3.30055627e+08,   3.36407067e+08,   3.40997247e+08,
#    3.47699796e+08,   3.52254651e+08 ])
# turbineH1same = np.array([ 105.28846604,  109.52089719,  112.56595856,  113.2419972,   116.24508861,
#   114.98507409,  121.94666311,  125.28593097,  125.34896369,  125.32986939,
#   125.31127914,  125.29315227,  125.27571581,  125.25947289,  125.29375874,
#   125.7301963,   126.50969669,  127.89448844,  129.29900125,  129.7633681,
#   131.18774815,  131.51340422         ])
# turbineH2same = np.array([ 105.28846604,  109.52089719,  112.56595856,  113.2419972,   116.24508861,
#   114.98507409,  121.94666311,  125.28593097,  125.34896369,  125.32986939,
#   125.31127914,  125.29315227,  125.27571581,  125.25947289,  125.29375874,
#   125.7301963,   126.50969669,  127.89448844,  129.29900125,  129.7633681,
#   131.18774815,  131.51340422         ])
#
#
# #same original Height
# COEorg = np.array([ 82.66343231,  82.16555071,  82.66362177,  82.66359629,  82.66351193,
#   82.55882351,  82.66403174,  82.66340368,  82.66412172,  82.66410135,
#   82.66399609,  82.66400971,  82.66420308,  82.66385148,  81.92241551,
#   82.66380569,  82.66382753,  82.66389378,  82.66391435,  82.66396128,
#   82.66402435,  82.66392507])
# AEPorg = np.array([  2.53590377e+08,   2.55250453e+08,   2.53589750e+08,   2.53589834e+08,
#    2.53590113e+08,   2.53937378e+08,   2.53588392e+08,   2.53590472e+08,
#    2.53588093e+08,   2.53588161e+08,   2.53588510e+08,   2.53588464e+08,
#    2.53587824e+08,   2.53588989e+08,   2.56069057e+08,   2.53589140e+08,
#    2.53589068e+08,   2.53588849e+08,   2.53588780e+08,   2.53588625e+08,
#    2.53588416e+08,   2.53588745e+08])
#
#
# COESNOPT = np.array([ 75.8956249,   76.25413369,  74.72705363,  75.76531384,  74.52714369,
#   78.83251908,  74.34994924,  77.88024285,  73.09011471,  72.52891126,
#   68.55499887])
# AEPSNOPT = np.array([  2.48133050e+08,   2.83890866e+08,  2.91809174e+08,   2.91866320e+08,
#    2.94605338e+08,   2.38044906e+08,   3.04651040e+08,   2.41193201e+08,
#    3.13510885e+08,   3.18392262e+08,   3.16536686e+08])
# turbineH1SNOPT = np.array([  73.2,         126.59384063,  127.49719511,  129.88477041 , 128.52944106,
#    73.2,         133.14678038,   73.2,         134.52716341,  135.46384331,
#   125.31127878])
# turbineH2SNOPT = np.array([ 126.19261359,   73.2,          73.2,          73.2,          73.2,
#   133.60224562,   73.2,         134.2717134,    73.2,          73.2,
#   125.31127878])
# diffArraySNOPT = np.array([  5.29926136e+01,   5.33938406e+01,   5.42971951e+01,   5.66847704e+01,
#    5.53294411e+01,   6.04022456e+01,   5.99467804e+01,   6.10717134e+01,
#    6.13271634e+01,   6.22638433e+01,   5.46265255e-11])
# costSNOPT = np.array([  1.13515882e+08,   1.38978224e+08,   1.40054762e+08,   1.43064119e+08
# ,   1.41358389e+08,   1.13467894e+08 ,  1.47567368e+08,   1.13460731e+08
# ,   1.49622500e+08,   1.51076151e+08,   1.37535617e+08])
#
#
#
#
#
# plt.figure(4)
# plt.plot(shear_ex, AEPdiff, c='b', label='Opt XYZ: Diff')
# plt.plot(shear_ex, AEPdiff, 'ob')
# plt.plot(shear_ex, AEPsame, c='r', label='Opt XYZ: Same')
# plt.plot(shear_ex, AEPsame, 'or')
# plt.plot(shear_ex, AEPorg, c='y', label='Opt XY')
# plt.plot(shear_ex, AEPorg, 'oy')
# plt.plot(shear_ex, AEPworst, c='k', label='Grid')
# plt.plot(shear_ex, AEPworst, 'ok')
# plt.title('AEP vs Shear Exponent')
# plt.legend(loc=2)
#
# plt.figure(5)
# plt.plot(shear_ex, COEdiff, c='b', label='Opt XYZ: Diff')
# plt.plot(shear_ex, COEdiff, 'ob')
# plt.plot(shear_ex, COEsame, c='r', label='Opt XYZ: Same')
# plt.plot(shear_ex, COEsame, 'or')
# plt.plot(shear_ex, COEorg, c='y', label='Opt XY')
# plt.plot(shear_ex, COEorg, 'oy')
# plt.plot(shear_ex, COEworst, c='k', label='Grid')
# plt.plot(shear_ex, COEworst, 'ok')
# plt.title('COE vs Shear Exponent')
# plt.legend(loc=3)
#
# plt.figure(6)
# plt.plot(shear_ex, diffArraydiff)
# plt.title('Height Difference vs Shear Exponent')
#
# plt.figure(7)
# plt.plot(shear_exSNOPT, COESNOPT, c='r', label = 'SNOPT')
# plt.plot(shear_exSNOPT, COEdiff[0:11], c='b', label='Scipy')
# plt.title('SNOPT vs SP COE')
#
# plt.legend()
#
# plt.figure(8)
# plt.plot(shear_exSNOPT, AEPSNOPT, c='r', label = 'SNOPT')
# plt.plot(shear_exSNOPT, AEPdiff[0:11], c='b', label='Scipy')
# plt.legend(loc=2)
# plt.title('SNOPT vs SP AEP')
# plt.show()



# #New Scaling attempt
# COEtry3 = np.array([ 81.78849023,  51.4400408,   46.39367331,  44.24040164,  43.13091941,
#   42.85834583,  42.05284642,  41.88867347,  42.76852868,  41.31902899,
#   41.34236182,  41.50740186])
# AEPtry3 = np.array([  2.42884372e+08,   4.03066337e+08,   4.50225529e+08,   4.75553840e+08,
#    4.89047878e+08,   4.93438780e+08,   5.03924446e+08,   5.06811941e+08,
#    4.94596145e+08,   5.15011616e+08,   5.14670547e+08,   5.12182832e+08])
# turbineH1try3 = np.array([ 97.0520237,   95.99559809,  94.48629027,  94.44165326,  93.77409383,
#   94.44165326,  93.95079269,  94.44165326,  94.39030706,  94.44165326,
#   94.44165326,  94.36873239])
# turbineH2try3 = np.array([ 73.2,         73.2,         89.657211,    94.44165326,  93.2229259,
#   94.44165326,  93.78671886,  94.44165326,  94.41083329,  94.44165326,
#   94.4416533,   93.36094529])
# diffArraytry3 = np.array([  2.38520237e+01,   2.27955981e+01,   4.82907927e+00,   4.48608262e-10,
#    5.51167924e-01,   3.71414899e-10,   1.64073823e-01,   6.66915412e-10,
#    2.05262288e-02,   4.39968062e-10,   4.53042759e-08,   1.00778710e+00])
# costtry3 = np.array([  1.23957084e+08,   1.22877583e+08,   1.21561158e+08,   1.21525088e+08,
#    1.21250020e+08,   1.21525088e+08,   1.21323323e+08,   1.21525088e+08,
#    1.21506539e+08,   1.21525088e+08,   1.21525088e+08,   1.21494525e+08])
# timetry3 = np.array([ 0.17098689,  0.18308687,  0.18690681,  0.17260003,  0.17913389,  0.20006108,
#   0.21199012,  0.231987,    0.19465399,  0.2006979,   0.23932195,  0.22862792])
#
# plt.figure(9)
# space = np.array([2.0,2.5,3.0,3.5,4.0,4.5,5.0,5.5,6.0,6.5,7.0,7.5])
# plt.plot(space, COEtry3)
# plt.figure(10)
# plt.plot(space, diffArraytry3)
# plt.show()


# """PLEASEWORK"""
# spacing = np.array([2.0,2.5,3.0,3.5,5.0,6.5,7.0])
# space = np.array([2.0,2.5,3.0,3.5,4.0,4.5])
# COE_PLEASEWORK = np.array([ 93.21762368,  80.36153181,  73.0353312,   69.93962664,  64.18712642,
#   60.13487758,  61.49681871])
# AEP_PLEASEWORK = np.array([  2.30553450e+08,   2.63810460e+08,   2.82034468e+08,   2.93555988e+08,
#    3.24463739e+08,   3.48136483e+08,   3.38540829e+08])
# turbineH1_PLEASEWORK = np.array([ 133.25219719,  129.06324416,  121.6495902,   119.96237134,  119.78550667,
#   110.14871136,  110.40499827])
# turbineH2_PLEASEWORK = np.array([  73.2,          73.2,          73.2,          73.2,          81.08800717,
#   110.02756915,  105.09423102])
# diffArray_PLEASEWORK = np.array([ 60.05219719,  55.86324416,  48.4495902,   46.76237134,  38.6974995,
#    0.12114221,   5.31076725])
#
# COE_same = np.array([ 99.36096822,  84.69422468,  76.02253007,  72.7729721,   75.78491752,
#   64.99915512])
# AEP_same = np.array([  2.01067399e+08,   2.39345568e+08,   2.68897579e+08,   2.82037770e+08,
#    2.69388158e+08,   3.17608422e+08])
# turbineH1_same = np.array([ 108.91471459,  110.12918875,  109.94210392,  109.97912542,  109.3177633,
#   107.97349681])
#
#
# plt.figure(1)
# plt.plot(spacing, COE_PLEASEWORK, 'r')
# plt.plot(space, COE_same, 'b')
# plt.title('COE vs. Initial Grid Spacing')
# plt.figure(2)
# plt.plot(spacing, AEP_PLEASEWORK, 'r')
# plt.plot(space, AEP_same, 'b')
# plt.title('AEP vs. Initial Grid Spacing')
# plt.figure(3)
# plt.plot(spacing, diffArray_PLEASEWORK)
# plt.title('Height Difference vs. Initial Grid Spacing')
#
# plt.show()
diff = np.linspace(0.08,0.3,23)
COEshear = np.array([ 72.49101159,  69.54316986,  70.07157994,  69.19818481,  70.49287193,
  69.19833159,  70.44256634,  69.29511062,  68.98797974,  66.30205552,
  70.20309658,  68.67839343,  72.7382289 ,  63.48308101,  63.70633238,
  61.77457995,  62.75718702,  61.85625321,  62.03876214,  60.6040638,
  60.46147557,  60.48985729,  58.78939448])
AEPshear = np.array([  2.87256739e+08,   2.98981114e+08,   2.96823278e+08,   3.01255049e+08,
   2.95908585e+08,   3.02911341e+08,   3.02410450e+08,   3.06139459e+08,
   3.12501928e+08,   3.28354797e+08,   3.13204679e+08,   3.23395098e+08,
   3.03137099e+08,   3.44412344e+08,   3.43080475e+08,   3.55243178e+08,
   3.49607434e+08,   3.56603858e+08,   3.61219659e+08,   3.69808131e+08,
   3.74428882e+08,   3.77222087e+08,   3.91427676e+08])
turbineH1shear = np.array([ 126.66434255,  125.49904079,  125.7630199,   126.01322448,  126.3221637,
  127.15126491,  130.90636781,  129.48822108,  132.51329312,  125.26007511,
  135.08627506,  135.58533078,  136.14338444,  125.25826971,  125.26533426,
  125.38693069,  125.64862304,  126.3545638,   129.44330229,  128.57510488,
  130.266328,    131.54602013,  132.25889219])
turbineH2shear = np.array([  73.20014479,   73.2,          73.2,          73.2,          73.2,
   73.20059629,   73.20000116 ,  74.56869953,   74.92118278,  125.19157732,
   82.34509685,   87.58667628,   82.21562189,  125.25826735,  125.24253396,
  125.45829802,  125.7953662,   125.96770672,  125.3928734,   128.18555625,
  128.49065332,  129.02050958,  130.05093773])
diffArrayshear = np.array([  5.34641978e+01,   5.22990408e+01,   5.25630199e+01,   5.28132245e+01,
   5.31221637e+01,   5.39506686e+01,   5.77063666e+01,   5.49195216e+01,
   5.75921103e+01,   6.84977866e-02,   5.27411782e+01,   4.79986545e+01,
   5.39277626e+01,   2.35491213e-06,   2.28003015e-02,   7.13673298e-02,
   1.46743166e-01,   3.86857078e-01,   4.05042889e+00,   3.89548624e-01,
   1.77567468e+00,   2.52551055e+00,   2.20795446e+00])
good = np.array([0,1,1,1,0,0,1,0,1,0,1,0,0,1,1,1,0,1,1,1,1,1,1])

index = np.where(good==0)
COEshear = np.delete(COEshear, index[0])
AEPshear = np.delete(AEPshear, index[0])
turbineH1shear = np.delete(turbineH1shear, index[0])
turbineH2shear = np.delete(turbineH2shear, index[0])
diffArrayshear = np.delete(diffArrayshear, index[0])
diff = np.delete(diff, index[0])

plt.plot(diff, AEPshear)




same = np.array([0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.18,0.19,0.21,0.22,0.25,0.26,0.27,0.28,0.29,0.3])
COEsame = np.array([ 73.84305905,  83.38152449,  81.92198136,  79.00559151,  70.80150556,
  71.27552168 , 71.28027683 , 71.80048161 , 71.32313784 , 68.22994129,
  66.63131343 , 65.31839658,  65.96585297 , 62.39491248,  60.93377761,  60.91781,
  60.38646184 , 60.76364743 , 58.69067307])
AEPsame = np.array([  2.72312599e+08 ,  2.41363362e+08 ,  2.49773539e+08 ,  2.59699899e+08,
   2.94808631e+08 ,  2.96873662e+08 ,  2.97413327e+08 ,  2.97472545e+08,
   3.02849798e+08 ,  3.13571522e+08 ,  3.21180207e+08 ,  3.27884711e+08,
   3.27085590e+08 ,  3.42941494e+08 ,  3.64298512e+08 ,  3.67402483e+08,
   3.73485774e+08  , 3.69708133e+08 ,  3.90517072e+08])
turbineH1same = np.array([ 102.22578199 , 106.82920429 , 112.65258518  ,112.53413736 , 115.04968514,
  119.22482565 , 119.84864085 , 122.08361641 , 125.06742036,  123.17860838,
  122.79213936 , 122.91349578 , 123.71357383,  122.54145843 , 127.07676691,
  128.38148989 , 129.44250249 , 128.90193488 , 131.37002762])

good = np.array([1,0,1,1,0,0,1,0,1,0,0,0,0,0,1,0,1,0,1])

index = np.where(good==0)
COEsame = np.delete(COEsame, index[0])
AEPsame = np.delete(AEPsame, index[0])
turbineH1same = np.delete(turbineH1same, index[0])
same = np.delete(same, index[0])

plt.plot(same, AEPsame, 'r')
plt.show()




plt.plot()
