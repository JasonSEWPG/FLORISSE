import numpy as np
import matplotlib.pyplot as plt
from FLORISSE3D.setupOptimization import amaliaLayout
from scipy.interpolate import CubicSpline
from akima import Akima, akima_interp

def Weibull(x,L):
    k = 1.76
    return (k/L)*(x/L)**(k-1)*np.exp(-(x/L)**k)

x = np.linspace(0.,25.,1000)

L = 8.
nSpeeds = 15
avg_speed = 6.
speeds = np.linspace(3.+(25.-3.)/(2.*float(nSpeeds)),25.-(25.-3.)/(2.*float(nSpeeds)),nSpeeds)
dspeeds = speeds[1]-speeds[0]
speed_freqs = np.zeros(nSpeeds)
num_int = 1000
for i in range(nSpeeds):
    speed_int = np.linspace(speeds[i]-dspeeds/2.,speeds[i]+dspeeds/2.,num_int)
    freq_int = Weibull(speed_int,avg_speed)
    speed_freqs[i] = np.trapz(freq_int,speed_int)
# print speed_freqs
# print sum(speed_freqs)

# w = Weibull(x,L)
# plt.plot(x,w,linewidth=2)
# plt.show()

# print Weibull(1.,10.)

COEtrue = 50.6584892
AEPtrue = 7.41427017e+08

nDirections = np. array([[ 10.,  10.,  10.,  10.,  10.,  10.,  10.,  10.,  10.,  10.,  10.,
         10.,  10.,  10.,  10.],
       [ 11.,  11.,  11.,  11.,  11.,  11.,  11.,  11.,  11.,  11.,  11.,
         11.,  11.,  11.,  11.],
       [ 12.,  12.,  12.,  12.,  12.,  12.,  12.,  12.,  12.,  12.,  12.,
         12.,  12.,  12.,  12.],
       [ 13.,  13.,  13.,  13.,  13.,  13.,  13.,  13.,  13.,  13.,  13.,
         13.,  13.,  13.,  13.],
       [ 14.,  14.,  14.,  14.,  14.,  14.,  14.,  14.,  14.,  14.,  14.,
         14.,  14.,  14.,  14.],
       [ 15.,  15.,  15.,  15.,  15.,  15.,  15.,  15.,  15.,  15.,  15.,
         15.,  15.,  15.,  15.],
       [ 16.,  16.,  16.,  16.,  16.,  16.,  16.,  16.,  16.,  16.,  16.,
         16.,  16.,  16.,  16.],
       [ 17.,  17.,  17.,  17.,  17.,  17.,  17.,  17.,  17.,  17.,  17.,
         17.,  17.,  17.,  17.],
       [ 18.,  18.,  18.,  18.,  18.,  18.,  18.,  18.,  18.,  18.,  18.,
         18.,  18.,  18.,  18.],
       [ 19.,  19.,  19.,  19.,  19.,  19.,  19.,  19.,  19.,  19.,  19.,
         19.,  19.,  19.,  19.],
       [ 20.,  20.,  20.,  20.,  20.,  20.,  20.,  20.,  20.,  20.,  20.,
         20.,  20.,  20.,  20.],
       [ 21.,  21.,  21.,  21.,  21.,  21.,  21.,  21.,  21.,  21.,  21.,
         21.,  21.,  21.,  21.],
       [ 22.,  22.,  22.,  22.,  22.,  22.,  22.,  22.,  22.,  22.,  22.,
         22.,  22.,  22.,  22.],
       [ 23.,  23.,  23.,  23.,  23.,  23.,  23.,  23.,  23.,  23.,  23.,
         23.,  23.,  23.,  23.],
       [ 24.,  24.,  24.,  24.,  24.,  24.,  24.,  24.,  24.,  24.,  24.,
         24.,  24.,  24.,  24.],
       [ 25.,  25.,  25.,  25.,  25.,  25.,  25.,  25.,  25.,  25.,  25.,
         25.,  25.,  25.,  25.],
       [ 26.,  26.,  26.,  26.,  26.,  26.,  26.,  26.,  26.,  26.,  26.,
         26.,  26.,  26.,  26.],
       [ 27.,  27.,  27.,  27.,  27.,  27.,  27.,  27.,  27.,  27.,  27.,
         27.,  27.,  27.,  27.],
       [ 28.,  28.,  28.,  28.,  28.,  28.,  28.,  28.,  28.,  28.,  28.,
         28.,  28.,  28.,  28.],
       [ 29.,  29.,  29.,  29.,  29.,  29.,  29.,  29.,  29.,  29.,  29.,
         29.,  29.,  29.,  29.],
       [ 30.,  30.,  30.,  30.,  30.,  30.,  30.,  30.,  30.,  30.,  30.,
         30.,  30.,  30.,  30.],
       [ 31.,  31.,  31.,  31.,  31.,  31.,  31.,  31.,  31.,  31.,  31.,
         31.,  31.,  31.,  31.],
       [ 32.,  32.,  32.,  32.,  32.,  32.,  32.,  32.,  32.,  32.,  32.,
         32.,  32.,  32.,  32.],
       [ 33.,  33.,  33.,  33.,  33.,  33.,  33.,  33.,  33.,  33.,  33.,
         33.,  33.,  33.,  33.],
       [ 34.,  34.,  34.,  34.,  34.,  34.,  34.,  34.,  34.,  34.,  34.,
         34.,  34.,  34.,  34.],
       [ 35.,  35.,  35.,  35.,  35.,  35.,  35.,  35.,  35.,  35.,  35.,
         35.,  35.,  35.,  35.],
       [ 36.,  36.,  36.,  36.,  36.,  36.,  36.,  36.,  36.,  36.,  36.,
         36.,  36.,  36.,  36.],
       [ 37.,  37.,  37.,  37.,  37.,  37.,  37.,  37.,  37.,  37.,  37.,
         37.,  37.,  37.,  37.],
       [ 38.,  38.,  38.,  38.,  38.,  38.,  38.,  38.,  38.,  38.,  38.,
         38.,  38.,  38.,  38.],
       [ 39.,  39.,  39.,  39.,  39.,  39.,  39.,  39.,  39.,  39.,  39.,
         39.,  39.,  39.,  39.]])
nSpeeds = np. array([[  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.],
       [  2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,
         13.,  14.,  15.,  16.]])
COE = np. array([[ 62.96705319,  48.29938728,  51.23979898,  51.61537208,
         51.17138326,  51.90705677,  51.28609435,  52.02260895,
         51.83592786,  52.1911365 ,  52.18054601,  52.25112231,
         52.36599491,  52.20915625,  52.29811065],
       [ 62.32718528,  47.47638414,  50.26356832,  50.55820354,
         50.14148841,  50.82368603,  50.1861388 ,  50.96714579,
         50.72296134,  51.04502125,  51.02275691,  51.10437859,
         51.2381043 ,  51.08081921,  51.16627936],
       [ 70.87531042,  56.82720228,  59.9048839 ,  60.20770727,
         60.0256719 ,  60.67417778,  60.21175426,  61.16546808,
         60.9935462 ,  61.40340691,  61.32043316,  61.24987377,
         61.49024906,  61.36323689,  61.47849469],
       [ 61.35822575,  46.00751104,  49.12939494,  49.19297508,
         48.95097278,  49.49142804,  48.93867057,  49.62868602,
         49.36915717,  49.7064483 ,  49.65434479,  49.82510094,
         49.85489358,  49.7679523 ,  49.80868875],
       [ 61.23297832,  46.49878089,  49.50186547,  49.69961793,
         49.42718193,  49.99781773,  49.46361683,  50.12582064,
         49.92387075,  50.234938  ,  50.26164089,  50.36446604,
         50.45348419,  50.30835552,  50.38309609],
       [ 62.26858143,  47.24001824,  50.46910079,  50.56410763,
         50.30161151,  50.89074225,  50.37159284,  51.03399959,
         50.87996267,  51.1723868 ,  51.22668447,  51.2638248 ,
         51.37971745,  51.22366445,  51.30391733],
       [ 60.98469247,  46.00785841,  48.92229664,  49.11876545,
         48.76706271,  49.38008459,  48.75488881,  49.50174289,
         49.21524541,  49.57665262,  49.53308867,  49.67511812,
         49.73528455,  49.62016999,  49.67492337],
       [ 61.79126123,  47.97028786,  50.31854459,  50.84373664,
         50.42676205,  51.08605719,  50.45600058,  51.26092866,
         50.96059621,  51.29468631,  51.27732612,  51.42171813,
         51.51855269,  51.394523  ,  51.4639708 ],
       [ 60.67008348,  45.3262803 ,  48.94522712,  48.73575187,
         48.75974322,  49.13627561,  48.72946375,  49.28622682,
         49.05492267,  49.44269052,  49.40314654,  49.59009694,
         49.59478159,  49.50429005,  49.52007738],
       [ 61.92225081,  47.77429699,  50.4043043 ,  50.81485895,
         50.43598932,  51.07910828,  50.49452898,  51.23338846,
         50.98614651,  51.31025054,  51.3138262 ,  51.44478913,
         51.54117719,  51.39547163,  51.47380472],
       [ 61.53727691,  46.92568165,  49.57140059,  49.99620349,
         49.50380683,  50.2267412 ,  49.54270589,  50.33466554,
         50.04036122,  50.415109  ,  50.327068  ,  50.50403398,
         50.56059768,  50.45171173,  50.50981463],
       [ 61.4943014 ,  46.88071121,  49.71559981,  49.98253847,
         49.65733089,  50.26121674,  49.68049696,  50.40840948,
         50.14209879,  50.4824551 ,  50.45356109,  50.60455209,
         50.67862257,  50.55939194,  50.62111783],
       [ 62.10112225,  48.10380101,  50.45505656,  51.02989123,
         50.54284531,  51.24889668,  50.60102393,  51.4017897 ,
         51.12626876,  51.46787108,  51.42685299,  51.56210639,
         51.66774705,  51.5291073 ,  51.60541864],
       [ 61.73685575,  46.69238428,  49.93336841,  49.90343392,
         49.82457348,  50.2558064 ,  49.83321803,  50.45494831,
         50.26029143,  50.52705938,  50.54290431,  50.66794782,
         50.7502936 ,  50.64127505,  50.68027104],
       [ 62.68206827,  48.81391443,  51.02781979,  51.67550879,
         51.10826485,  51.8893081 ,  51.15286668,  52.05789211,
         51.72389367,  52.10559345,  52.01594673,  52.15779434,
         52.27135957,  52.14845546,  52.21201699],
       [ 61.2821521 ,  46.46098168,  49.35517109,  49.57019106,
         49.27179627,  49.85679443,  49.30073634,  49.99688418,
         49.75401641,  50.06831042,  50.03481067,  50.18869002,
         50.25848803,  50.1495781 ,  50.19563664],
       [ 61.49663432,  46.98239123,  49.87317841,  50.10511571,
         49.80884428,  50.39113946,  49.83872197,  50.53523495,
         50.31108819,  50.6190775 ,  50.62374003,  50.75275311,
         50.825027  ,  50.70283247,  50.76788687],
       [ 61.5830073 ,  47.24363349,  49.9169501 ,  50.27422061,
         49.8973432 ,  50.52045229,  49.92591997,  50.68094861,
         50.39844874,  50.74526206,  50.71636283,  50.85821778,
         50.92917808,  50.8205532 ,  50.87390807],
       [ 61.52018376,  46.44860981,  49.74880519,  49.73205985,
         49.59808456,  50.07303618,  49.61451256,  50.23227814,
         50.05254558,  50.34820312,  50.37358082,  50.47366499,
         50.55343568,  50.42572735,  50.48901224],
       [ 61.70147814,  47.13101261,  50.115914  ,  50.25783425,
         50.02820893,  50.57203053,  50.0368236 ,  50.74427429,
         50.51314946,  50.81867058,  50.84988559,  50.9510562 ,
         51.04404315,  50.90901888,  50.97724725],
       [ 62.04980257,  46.95652156,  50.37423922,  50.3255441 ,
         50.16034536,  50.67608266,  50.20462529,  50.83067224,
         50.6917174 ,  50.9724884 ,  51.03248972,  51.07012359,
         51.18138138,  51.02886583,  51.10894483],
       [ 61.30859963,  46.98019541,  49.60963839,  49.97596407,
         49.58056162,  50.22466825,  49.6005129 ,  50.36211429,
         50.06265787,  50.41872195,  50.35819054,  50.53725508,
         50.58290528,  50.49322945,  50.52968039],
       [ 61.64113146,  46.97757243,  49.93015175,  50.11913053,
         49.87272775,  50.40951268,  49.90815728,  50.58063521,
         50.37999082,  50.66075528,  50.69234533,  50.78487661,
         50.89229547,  50.75159562,  50.82378745],
       [ 61.50710155,  46.89552873,  49.86774702,  50.033725  ,
         49.77764818,  50.33452067,  49.80723843,  50.49280979,
         50.2795751 ,  50.57454592,  50.5855393 ,  50.69783002,
         50.79124393,  50.65970205,  50.72179567],
       [ 61.34560649,  47.10285333,  49.67881633,  50.04557121,
         49.67319275,  50.29660458,  49.68425902,  50.45814099,
         50.13667239,  50.48180581,  50.43862371,  50.62281117,
         50.68588529,  50.58409065,  50.63555284],
       [ 61.57608423,  46.88777045,  49.84692883,  50.02653638,
         49.74800301,  50.32196377,  49.7828039 ,  50.47620988,
         50.25840947,  50.5477873 ,  50.57298806,  50.67794195,
         50.7791178 ,  50.63878402,  50.71214461],
       [ 61.81795663,  47.22084373,  50.28712504,  50.36977039,
         50.19546499,  50.69898545,  50.21517702,  50.88777233,
         50.6784214 ,  50.96978377,  50.99941701,  51.09365263,
         51.19852484,  51.06394495,  51.12664748],
       [ 61.33331987,  46.80529853,  49.58753933,  49.88761224,
         49.5329557 ,  50.1428685 ,  49.56846915,  50.2848774 ,
         50.04558835,  50.35400374,  50.34679299,  50.47787469,
         50.56148795,  50.43373827,  50.50092289],
       [ 61.54599167,  46.97397579,  49.88098523,  50.08263641,
         49.80984342,  50.37728138,  49.83472889,  50.53650601,
         50.30520853,  50.61048391,  50.6162786 ,  50.73631802,
         50.82969897,  50.69673653,  50.76530408],
       [ 61.5044393 ,  47.02292738,  49.85768411,  50.1095353 ,
         49.840319  ,  50.39552799,  49.85499767,  50.5654205 ,
         50.31316684,  50.63701688,  50.60896345,  50.76391035,
         50.82960198,  50.72300967,  50.77194935]])
AEP = np. array([[  5.80920952e+08,   7.82885356e+08,   7.31876814e+08,
          7.25836357e+08,   7.32988007e+08,   7.21213454e+08,
          7.31126804e+08,   7.19398314e+08,   7.22335336e+08,
          7.16767337e+08,   7.16932104e+08,   7.15835503e+08,
          7.14057790e+08,   7.16487159e+08,   7.15107265e+08],
       [  5.87533035e+08,   7.98461219e+08,   7.48058532e+08,
          7.43099852e+08,   7.50132568e+08,   7.38687780e+08,
          7.49372662e+08,   7.36325348e+08,   7.40355549e+08,
          7.35049246e+08,   7.35413628e+08,   7.34079557e+08,
          7.31904298e+08,   7.34464127e+08,   7.33071038e+08],
       [  5.09986801e+08,   6.51247545e+08,   6.13988749e+08,
          6.10551817e+08,   6.12613222e+08,   6.05332195e+08,
          6.10506146e+08,   5.99930482e+08,   6.01809755e+08,
          5.97348858e+08,   5.98246592e+08,   5.99012135e+08,
          5.96412151e+08,   5.97783141e+08,   5.96538766e+08],
       [  5.97837361e+08,   8.27857493e+08,   7.67780522e+08,
          7.66647462e+08,   7.70978139e+08,   7.61373126e+08,
          7.71199597e+08,   7.58971755e+08,   7.63525127e+08,
          7.57617989e+08,   7.58524526e+08,   7.55561643e+08,
          7.55047065e+08,   7.56550680e+08,   7.55845414e+08],
       [  5.99195735e+08,   8.17787830e+08,   7.61189986e+08,
          7.57736706e+08,   7.62502361e+08,   7.52588194e+08,
          7.61861545e+08,   7.50399584e+08,   7.53858377e+08,
          7.48543907e+08,   7.48091188e+08,   7.46353000e+08,
          7.44854720e+08,   7.47300507e+08,   7.46038936e+08],
       [  5.88146150e+08,   8.03049814e+08,   7.44592494e+08,
          7.43001159e+08,   7.47414551e+08,   7.37581644e+08,
          7.46232826e+08,   7.35229583e+08,   7.37759237e+08,
          7.32971683e+08,   7.32089556e+08,   7.31487391e+08,
          7.29614748e+08,   7.32138563e+08,   7.30838472e+08],
       [  6.01906854e+08,   8.27850286e+08,   7.71494549e+08,
          7.67970276e+08,   7.74302106e+08,   7.63332307e+08,
          7.74523147e+08,   7.61192137e+08,   7.66251373e+08,
          7.59880310e+08,   7.60642656e+08,   7.58162836e+08,
          7.57117205e+08,   7.59120304e+08,   7.58166225e+08],
       [  5.93187955e+08,   7.89040285e+08,   7.47128271e+08,
          7.38356685e+08,   7.45303853e+08,   7.34378590e+08,
          7.44812453e+08,   7.31534311e+08,   7.36432874e+08,
          7.30987779e+08,   7.31268736e+08,   7.28938448e+08,
          7.27383973e+08,   7.29376204e+08,   7.28259354e+08],
       [  6.05377620e+08,   8.42238306e+08,   7.71081554e+08,
          7.74870871e+08,   7.74434991e+08,   7.67657740e+08,
          7.74985196e+08,   7.64991661e+08,   7.69111956e+08,
          7.62229464e+08,   7.62925685e+08,   7.59645351e+08,
          7.59563513e+08,   7.61147456e+08,   7.60870643e+08],
       [  5.91795762e+08,   7.92751969e+08,   7.45681731e+08,
          7.38833636e+08,   7.45148704e+08,   7.34492071e+08,
          7.44165912e+08,   7.31980789e+08,   7.36013585e+08,
          7.30736071e+08,   7.30678269e+08,   7.28567489e+08,
          7.27021740e+08,   7.29360925e+08,   7.28101483e+08],
       [  5.95906119e+08,   8.09234396e+08,   7.59972137e+08,
          7.52615876e+08,   7.61155932e+08,   7.48682985e+08,
          7.60474228e+08,   7.46855925e+08,   7.51859365e+08,
          7.45499881e+08,   7.46984252e+08,   7.44006582e+08,
          7.43059828e+08,   7.44884494e+08,   7.43909716e+08],
       [  5.96368513e+08,   8.10126988e+08,   7.57458988e+08,
          7.52850294e+08,   7.58472513e+08,   7.48098375e+08,
          7.58069239e+08,   7.45612627e+08,   7.50122170e+08,
          7.44368402e+08,   7.44853428e+08,   7.42325789e+08,
          7.41092086e+08,   7.43079985e+08,   7.42049517e+08],
       [  5.89905188e+08,   7.86531647e+08,   7.44828309e+08,
          7.35296827e+08,   7.43356705e+08,   7.31729305e+08,
          7.42384656e+08,   7.29259181e+08,   7.33722594e+08,
          7.28196732e+08,   7.28855852e+08,   7.26686970e+08,
          7.25001907e+08,   7.27214942e+08,   7.25995155e+08],
       [  5.93768119e+08,   8.13886470e+08,   7.53694996e+08,
          7.54210175e+08,   7.55570759e+08,   7.48190059e+08,
          7.55421375e+08,   7.44830127e+08,   7.48114053e+08,
          7.43620896e+08,   7.43355718e+08,   7.41269630e+08,
          7.39902246e+08,   7.41713626e+08,   7.41064676e+08],
       [  5.83847374e+08,   7.73452596e+08,   7.35330736e+08,
          7.24878408e+08,   7.34016158e+08,   7.21493069e+08,
          7.33289329e+08,   7.18845892e+08,   7.24109494e+08,
          7.18100388e+08,   7.19502719e+08,   7.17286332e+08,
          7.15521678e+08,   7.17431833e+08,   7.16442699e+08],
       [  5.98661684e+08,   8.18553902e+08,   7.63772062e+08,
          7.59993288e+08,   7.65247426e+08,   7.55014257e+08,
          7.64734670e+08,   7.52604203e+08,   7.56792252e+08,
          7.51381324e+08,   7.51954373e+08,   7.49329290e+08,
          7.48144613e+08,   7.49994775e+08,   7.49211217e+08],
       [  5.96343394e+08,   8.08111600e+08,   7.54731596e+08,
          7.50752736e+08,   7.55842724e+08,   7.45903423e+08,
          7.55326293e+08,   7.43484047e+08,   7.47254306e+08,
          7.42083533e+08,   7.42005805e+08,   7.39861482e+08,
          7.38665628e+08,   7.40689740e+08,   7.39610756e+08],
       [  5.95414871e+08,   8.02979233e+08,   7.53977472e+08,
          7.47878102e+08,   7.54315085e+08,   7.43731527e+08,
          7.53823120e+08,   7.41053411e+08,   7.45780320e+08,
          7.39985652e+08,   7.40465068e+08,   7.38117742e+08,
          7.36949112e+08,   7.38739540e+08,   7.37859023e+08],
       [  5.96089947e+08,   8.18804952e+08,   7.56882626e+08,
          7.57173173e+08,   7.59505824e+08,   7.51300555e+08,
          7.59219022e+08,   7.48589032e+08,   7.51650890e+08,
          7.46627375e+08,   7.46199310e+08,   7.44515889e+08,
          7.43179571e+08,   7.45321254e+08,   7.44258419e+08],
       [  5.94145984e+08,   8.05183768e+08,   7.50568514e+08,
          7.48155692e+08,   7.52067406e+08,   7.42868760e+08,
          7.51919915e+08,   7.40002028e+08,   7.43853846e+08,
          7.38770647e+08,   7.38255207e+08,   7.36589552e+08,
          7.35065246e+08,   7.37280733e+08,   7.36159571e+08],
       [  5.90446372e+08,   8.08623408e+08,   7.46188211e+08,
          7.47009997e+08,   7.49811454e+08,   7.41134323e+08,
          7.49058491e+08,   7.38572383e+08,   7.40874408e+08,
          7.36237660e+08,   7.35254294e+08,   7.34638850e+08,
          7.32825409e+08,   7.35313612e+08,   7.34005066e+08],
       [  5.98374845e+08,   8.08155017e+08,   7.59304093e+08,
          7.52963127e+08,   7.59811980e+08,   7.48718165e+08,
          7.59463416e+08,   7.46392664e+08,   7.51477956e+08,
          7.45439093e+08,   7.46458851e+08,   7.43450241e+08,
          7.42687110e+08,   7.44187701e+08,   7.43577018e+08],
       [  5.94791653e+08,   8.08206887e+08,   7.53750322e+08,
          7.50513657e+08,   7.54739368e+08,   7.45594059e+08,
          7.54128839e+08,   7.42725021e+08,   7.46091266e+08,
          7.41389305e+08,   7.40863973e+08,   7.39329484e+08,
          7.37556062e+08,   7.39880666e+08,   7.38686105e+08],
       [  5.96230715e+08,   8.09832666e+08,   7.54825276e+08,
          7.51972960e+08,   7.56382697e+08,   7.46858371e+08,
          7.55870501e+08,   7.44194737e+08,   7.47787440e+08,
          7.42826735e+08,   7.42643125e+08,   7.40772840e+08,
          7.39224126e+08,   7.41406832e+08,   7.40374894e+08],
       [  5.97973944e+08,   8.05736874e+08,   7.58098481e+08,
          7.51770207e+08,   7.58196344e+08,   7.47499243e+08,
          7.58003790e+08,   7.44776506e+08,   7.50214624e+08,
          7.44379294e+08,   7.45104421e+08,   7.42021288e+08,
          7.40971341e+08,   7.42667315e+08,   7.41808947e+08],
       [  5.95489188e+08,   8.09986743e+08,   7.55184563e+08,
          7.52096049e+08,   7.56896540e+08,   7.47070491e+08,
          7.56293403e+08,   7.44473183e+08,   7.48145944e+08,
          7.43274035e+08,   7.42852762e+08,   7.41103404e+08,
          7.39424800e+08,   7.41755119e+08,   7.40535097e+08],
       [  5.92903698e+08,   8.03424364e+08,   7.47659642e+08,
          7.46263552e+08,   7.49214134e+08,   7.40753645e+08,
          7.48879286e+08,   7.37630565e+08,   7.41095431e+08,
          7.36282048e+08,   7.35796000e+08,   7.34254592e+08,
          7.32546776e+08,   7.34739821e+08,   7.33716421e+08],
       [  5.98106987e+08,   8.11628239e+08,   7.59690037e+08,
          7.54482755e+08,   7.60644985e+08,   7.50109057e+08,
          7.60023400e+08,   7.47697683e+08,   7.51769914e+08,
          7.46529489e+08,   7.46651175e+08,   7.44445248e+08,
          7.43044946e+08,   7.45186547e+08,   7.44058725e+08],
       [  5.95812440e+08,   8.08278021e+08,   7.54596985e+08,
          7.51136529e+08,   7.55825442e+08,   7.46136931e+08,
          7.55395272e+08,   7.43462776e+08,   7.47353720e+08,
          7.42226838e+08,   7.42130201e+08,   7.40133960e+08,
          7.38588457e+08,   7.40791008e+08,   7.39653534e+08],
       [  5.96259370e+08,   8.07310931e+08,   7.54998902e+08,
          7.50677325e+08,   7.55298709e+08,   7.45829506e+08,
          7.55045268e+08,   7.42979216e+08,   7.47219166e+08,
          7.41784557e+08,   7.42252199e+08,   7.39676620e+08,
          7.38590059e+08,   7.40354747e+08,   7.39543481e+08]])


# for i in range(len(nDirections)):
#     plt.figure(i+1)
#     plt.plot(nSpeeds[i],COE[i])
#     plt.plot(np.array([0.,16.]),np.array([COEtrue*0.985,COEtrue*0.985]),'y',linewidth=2)
#     plt.plot(np.array([0.,16.]),np.array([COEtrue*1.015,COEtrue*1.015]),'y',linewidth=2)
#     plt.ylim(48.,52.)
#     plt.title('COE %s'%nDirections[i][0])

for i in range(len(nDirections)):
    plt.figure(i+1)
    plt.plot(nSpeeds[i],AEP[i],'ob')
    plt.plot(np.array([0.,16.]),np.array([AEPtrue*0.98,AEPtrue*0.98]),'r',linewidth=2,label='2% Error')
    plt.plot(np.array([0.,16.]),np.array([AEPtrue*1.02,AEPtrue*1.02]),'r',linewidth=2)
    # plt.ylim(48.,52.)
    plt.ylim(7.E8,8.E8)
    # plt.title('COE nDirections = %s'%nDirections[i][0],fontsize=20,family='serif')
    plt.title('Wind Speed Convergence',fontsize=20,family='serif')
    plt.xlabel('nSpeeds',fontsize=20,family='serif')
    plt.ylabel('AEP',fontsize=20,family='serif')
    plt.legend(loc=4,fontsize=20)
# plt.show()

for i in range(15):
    plt.figure(i+1+30)
    for j in range(30):
        plt.plot(nDirections[j][i],AEP[j][i],'ob')
        print 'COE[j][i]: ', AEP[j][i]
        print 'nDirections[j][i]: ', nDirections[j][i]
    plt.plot(np.array([0.,50.]),np.array([AEPtrue*0.98,AEPtrue*0.98]),'r',linewidth=2,label='2% Error')
    plt.plot(np.array([0.,50.]),np.array([AEPtrue*1.02,AEPtrue*1.02]),'r',linewidth=2)
    # plt.title('COE Speed = %s'%nSpeeds[0][i],fontsize=20,family='serif')
    plt.title('Wind Direction Convergence',fontsize=20,family='serif')
    plt.xlabel('nDirections',fontsize=20,family='serif')
    plt.ylabel('AEP',fontsize=20,family='serif')
    # plt.ylim(48.,52.)
    plt.ylim(7.E8,8.E8)
    plt.xlim(0.,40.)
    plt.legend(loc=4,fontsize=20)


plt.show()






nDirections = np. array([[  54.,  108.,  162.,  216.,  270.,  324.],
       [  58.,  116.,  174.,  232.,  290.,  348.],
       [  62.,  124.,  186.,  248.,  310.,  372.],
       [  66.,  132.,  198.,  264.,  330.,  396.],
       [  70.,  140.,  210.,  280.,  350.,  420.],
       [  74.,  148.,  222.,  296.,  370.,  444.],
       [  78.,  156.,  234.,  312.,  390.,  468.],
       [  82.,  164.,  246.,  328.,  410.,  492.],
       [  86.,  172.,  258.,  344.,  430.,  516.],
       [  90.,  180.,  270.,  360.,  450.,  540.]])
nSpeeds = np. array([[  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.],
       [  2.,   4.,   6.,   8.,  10.,  12.]])

jspeeds = 6
idirs = 10
for i in range(idirs):
    for j in range(jspeeds):
        nDirections[i][j] = nDirections[i][j]/nSpeeds[i][j]
print nDirections
COEtrue = 50.6584892
AEPtrue = 7.41427017e+08

COE = np. array([[ 61.5949579 ,  49.91708189,  49.89749904,  49.92553314,
         50.3981207 ,  50.71604534],
       [ 61.71343513,  50.11674401,  50.028352  ,  50.03646517,
         50.51281541,  50.84986704],
       [ 61.32056371,  49.61079803,  49.58075314,  49.60017734,
         50.06239282,  50.35831604],
       [ 61.51904667,  49.86900966,  49.77776188,  49.80680927,
         50.2792502 ,  50.58571964],
       [ 61.58802399,  49.85016089,  49.74812283,  49.78241628,
         50.25806421,  50.57363924],
       [ 61.34526443,  49.58851428,  49.53309957,  49.56809947,
         50.04527024,  50.34649671],
       [ 61.51638195,  49.86124461,  49.84045641,  49.85461451,
         50.31286896,  50.60968167],
       [ 61.49027426,  49.87474842,  49.81240551,  49.82812704,
         50.29443792,  50.60450608],
       [ 61.38813571,  49.74756195,  49.6896695 ,  49.70937252,
         50.17212549,  50.46876636],
       [ 61.39003506,  49.69639221,  49.61793481,  49.64802963,
         50.13240276,  50.4466917 ]])
AEP = np. array([[  5.95286628e+08,   7.53975203e+08,   7.54312400e+08,
          7.53829775e+08,   7.45785844e+08,   7.40470338e+08],
       [  5.94018219e+08,   7.50554358e+08,   7.52064956e+08,
          7.51926051e+08,   7.43859442e+08,   7.38255513e+08],
       [  5.98245177e+08,   7.59283852e+08,   7.59808632e+08,
          7.59469276e+08,   7.51482487e+08,   7.46456734e+08],
       [  5.96102180e+08,   7.54803496e+08,   7.56380727e+08,
          7.55877924e+08,   7.47792940e+08,   7.42640114e+08],
       [  5.95361030e+08,   7.55128761e+08,   7.56894462e+08,
          7.56300116e+08,   7.48151795e+08,   7.42841883e+08],
       [  5.97977647e+08,   7.59673002e+08,   7.60642465e+08,
          7.60029865e+08,   7.51775357e+08,   7.46656176e+08],
       [  5.96130849e+08,   7.54937460e+08,   7.55296336e+08,
          7.55051881e+08,   7.47224202e+08,   7.42240219e+08],
       [  5.96411880e+08,   7.54704521e+08,   7.55781131e+08,
          7.55509344e+08,   7.47535898e+08,   7.42326557e+08],
       [  5.97513882e+08,   7.56904190e+08,   7.57909683e+08,
          7.57567175e+08,   7.49610989e+08,   7.44598107e+08],
       [  5.97493353e+08,   7.57792784e+08,   7.59159303e+08,
          7.58634549e+08,   7.50287386e+08,   7.44968833e+08]])
#
# for i in range(idirs):
#     plt.figure(i+1)
#     plt.plot(nSpeeds[i],COE[i])
#     plt.plot(np.array([0.,12.]),np.array([COEtrue*0.99,COEtrue*0.99]),'y',linewidth=2)
#     plt.plot(np.array([0.,12.]),np.array([COEtrue*1.01,COEtrue*1.01]),'y',linewidth=2)
#     plt.ylim(48.,52.)
#     plt.title(nDirections[i][0])
# plt.show()




# AMALIA
# COE_50 = 50.61087033
# AEP_50 = 7.42220393e+08
#
# nSpeeds = np.array([  2.,   3.,   4.,   5.,   6.,   8.,   9.,  10.,  11.])
# COE = np.array([ 61.34526443,  46.80259786,  49.58851428,  49.88588885,
#         49.53309957,          49.56809947,  50.28465576,
#         50.04527024,  50.35462885])
# AEP = np.array([  5.97977647e+08,   8.11682105e+08,   7.59673002e+08,
#          7.54512458e+08,   7.60642465e+08, 7.60029865e+08,   7.47701435e+08,   7.51775357e+08,
#          7.46518941e+08])
#
# plt.plot(nSpeeds,COE,linewidth=2)
# plt.plot(np.array([0.,200.]),np.array([COE_50*0.99,COE_50*0.99]),'y',linewidth=2)
# plt.plot(np.array([0.,200.]),np.array([COE_50*1.01,COE_50*1.01]),'y',linewidth=2)
# plt.xlim(2.,11.)
# plt.show()
#
# nDirs = np.array([  3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,  13.,
#         14.,  15.,  16.,  17.,  18.,  19.,  20.,  21.,  22.,  23.,  24.,
#         25.,  26.,  27.,  28.,  29.,  30.,  31.,  32.,  33.,  34.,  35.,
#         36.,  37.,  38.,  39.,  40.,  41.,  42.,  43.,  44.,  45.,  46.,
#         47.,  48.,  49.,  50.,  51.,  52.])
# COE = np.array([ 62.28715705,  57.70045295,  67.57235224,  55.86036451,
#         56.15088484,  54.54965151,  50.34216314,  50.22025443,
#         54.62831533,  49.90928576,  67.21802871,  48.17656281,
#         51.16567357,  52.61641026,  48.38006024,  52.51486461,
#         49.3000949 ,  51.96411011,  50.26135325,  50.29638146,
#         51.85604594,  50.29144279,  52.03815136,  49.96806695,
#         50.5818354 ,  50.62595723,  50.37916897,  50.66908871,
#         51.46012098,  49.82496031,  50.66251918,  50.6082065 ,
#         49.88017591,  50.57539836,  50.83206949,  50.11607804,
#         50.54963873,  50.44439204,  50.05778794,  50.43344645,
#         50.31101371,  50.23075073,  50.39447782,  50.17800163,
#         50.25120366,  50.278164  ,  50.19060428,  50.2849469 ,
#         50.22727698,  50.16596757])
# AEP = np.array([  5.87951673e+08,   6.40224142e+08,   5.37393254e+08,
#          6.63903748e+08,   6.60049349e+08,   6.81868107e+08,
#          7.46729329e+08,   7.48793085e+08,   6.80762579e+08,
#          7.54109409e+08,   5.40509229e+08,   7.85171197e+08,
#          7.33080895e+08,   7.10212921e+08,   7.81391209e+08,
#          7.11767048e+08,   7.64746027e+08,   7.20316094e+08,
#          7.48096062e+08,   7.47503018e+08,   7.22017670e+08,
#          7.47586575e+08,   7.19154865e+08,   7.53098706e+08,
#          7.42704977e+08,   7.41968848e+08,   7.46105117e+08,
#          7.41250650e+08,   7.28321177e+08,   7.55564073e+08,
#          7.41359952e+08,   7.42264825e+08,   7.54610938e+08,
#          7.42812495e+08,   7.38549308e+08,   7.50565716e+08,
#          7.43243069e+08,   7.45007475e+08,   7.51561228e+08,
#          7.45191454e+08,   7.47255565e+08,   7.48614947e+08,
#          7.45847193e+08,   7.49511034e+08,   7.48268075e+08,
#          7.47811330e+08,   7.49296749e+08,   7.47696507e+08,
#          7.48673893e+08,   7.49715766e+08])
#
# COEtrue = 49.99935798
# AEPtrue = 7.52561783e+08
#
# plt.figure(1)
# plt.title('COE')
# plt.plot(nDirs,COE,linewidth=2)
# plt.plot(np.array([0.,200.]),np.array([COEtrue*0.99,COEtrue*0.99]),'--k')
# plt.plot(np.array([0.,200.]),np.array([COEtrue*1.01,COEtrue*1.01]),'--k')
# plt.plot(np.array([0.,200.]),np.array([COE_50,COE_50]),'y',linewidth=2)
#
# plt.xlim(0.,50.)
#
# # plt.figure(2)
# # plt.title('AEP')
# # plt.plot(nDirs_opt,AEP_opt,linewidth=2)
# # plt.plot(np.array([0.,200.]),np.array([AEPtrue*0.99,AEPtrue*0.99]),'--k')
# # plt.plot(np.array([0.,200.]),np.array([AEPtrue*1.01,AEPtrue*1.01]),'--k')
#
#
# plt.xlim(0.,50.)
# plt.show()
# #
#
#

# nDirs_opt = np.array([  3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,  12.,  13.,
#         14.,  15.,  16.,  17.,  18.,  19.,  20.,  21.,  22.,  23.,  24.,
#         25.,  26.,  27.,  28.,  29.,  30.,  31.,  32.,  33.,  34.,  35.,
#         36.,  37.,  38.,  39.,  40.,  41.,  42.,  43.,  44.,  45.,  46.,
#         47.,  48.,  49.,  50.,  51.,  52.])
# COE_opt = np.array([ 57.09377613,  54.86789189,  61.08289035,  50.36729358,
#         53.31470673,  56.8376595 ,  51.87717411,  51.16965782,
#         49.99513794,  49.15023292,  59.22327284,  48.72358541,
#         51.8615729 ,  49.52825413,  50.51337923,  50.96848437,
#         49.28019153,  52.06946576,  49.61316662,  51.02697775,
#         49.49706408,  50.80911596,  51.7744994 ,  49.06048717,
#         51.38444446,  50.23501857,  49.73876902,  50.79199622,
#         50.10491598,  49.91074615,  50.9679122 ,  49.90607285,
#         49.78891237,  50.62563642,  49.73205153,  50.21736153,
#         50.3559607 ,  50.07309247,  50.2630717 ,  50.10924938,
#         49.86752501,  50.196647  ,  49.92641475,  50.07609991,
#         50.20973863,  49.96112746,  50.19881593,  50.09523241,
#         49.89251959,  50.06350354])
# AEP_opt = np.array([  6.47842431e+08,   6.77417587e+08,   6.00831669e+08,
#          7.46305316e+08,   6.99706783e+08,   6.51113294e+08,
#          7.21684354e+08,   7.33016074e+08,   7.52634150e+08,
#          7.67408800e+08,   6.21868164e+08,   7.75092102e+08,
#          7.21930447e+08,   7.60727352e+08,   7.43849997e+08,
#          7.36303376e+08,   7.65098609e+08,   7.18664870e+08,
#          7.59242512e+08,   7.35344521e+08,   7.61274223e+08,
#          7.38928562e+08,   7.23307031e+08,   7.69012313e+08,
#          7.29538570e+08,   7.48542540e+08,   7.57056736e+08,
#          7.39211680e+08,   7.50756144e+08,   7.54084265e+08,
#          7.36312768e+08,   7.54164731e+08,   7.56187636e+08,
#          7.41974195e+08,   7.57173318e+08,   7.48842196e+08,
#          7.46496470e+08,   7.51299593e+08,   7.48066946e+08,
#          7.50682204e+08,   7.54829106e+08,   7.49194047e+08,
#          7.53814607e+08,   7.51248201e+08,   7.48971638e+08,
#          7.53217885e+08,   7.49157191e+08,   7.50921427e+08,
#          7.54398189e+08,   7.51463497e+08])
#
# COEtrue_opt = np. array([ 49.84581919])
# AEPtrue_opt = np. array([  7.55203723e+08])
#
# plt.figure(1)
# plt.title('COE')
# plt.plot(nDirs_opt,COE_opt,linewidth=2)
# plt.plot(np.array([0.,200.]),np.array([COEtrue_opt*0.99,COEtrue_opt*0.99]),'--k')
# plt.plot(np.array([0.,200.]),np.array([COEtrue_opt*1.01,COEtrue_opt*1.01]),'--k')
#
# plt.xlim(0.,50.)
#
# plt.figure(2)
# plt.title('AEP')
# plt.plot(nDirs_opt,AEP_opt,linewidth=2)
# plt.plot(np.array([0.,200.]),np.array([AEPtrue_opt*0.99,AEPtrue_opt*0.99]),'--k')
# plt.plot(np.array([0.,200.]),np.array([AEPtrue_opt*1.01,AEPtrue_opt*1.01]),'--k')
#
#
# plt.xlim(0.,50.)
# plt.show()


# COE:  47.6735348311
# rotor diameter 0:  126.4
# turbineH 0:  90.0
# rating 0:  5000.0
# diam 0:  [ 6.3        4.7515362  3.87     ]
# t 0:  [ 0.0200858   0.01623167  0.00975147]
# hGroup:  [ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.
#   0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.
#   0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.
#   0.  0.  0.  0.  0.  0.]
# wtPower0:  [ 234.8981137   796.2273383   727.65086596  795.54707014  762.58349896
#   793.81567763  785.65174362  708.24857216  787.04977122  743.60960668
#   746.02624523  794.11414774  768.91024951  794.66557372  815.94640585
#   765.57601927  712.48688584  735.86681515  750.47169326  881.64688905
#   918.78932025  761.85651183  801.37343673  735.58224293  784.37745361
#   817.75483227  680.50206459  730.87080894  782.67998426  750.12718889
#   840.22357736  737.77032243  945.27092949  958.26785403  669.39725758
#   937.38861616  747.99057946  887.72757903  934.25530879  951.5460816
#   928.68913552  401.13724841  732.76726764  818.84764974  869.91675841
#   958.26785403  958.26785403  958.26785403  958.26785403  958.26785403
#   774.80768681  909.93972925  958.26785403  958.26785403  958.26785403
#   958.26785403  958.26785403  958.26785403  958.26785403  958.26785403]
# turbineXoptXY = np.array([  1.20982469e+03 ,  1.80498157e+03 ,  2.14992748e+03,   8.49509811e+02,
#    1.25330538e+03,  2.06980502e+03,   2.66942131e+03,   3.17333932e+03,
#    5.20887416e+02,  1.17197888e+03,   1.77467535e+03,   2.34835242e+03,
#    2.94834858e+03,  3.48446196e+03,   2.23615977e+02,   8.43519645e+02,
#    1.45861016e+03,  2.04937411e+03,   2.63434115e+03,   3.19248755e+03,
#    3.80091400e+03,  5.16387353e+02,   1.12946156e+03,   1.71380366e+03,
#    2.31148383e+03,  2.89972789e+03,   3.49469687e+03,   1.14272698e+02,
#    8.06322431e+02,  1.39573273e+03,   1.98558136e+03,   2.58664099e+03,
#    3.17215526e+03,  3.77780823e+03,   1.91560512e+00,   5.18791653e+02,
#    1.08456359e+03,  1.65583492e+03,   2.25970921e+03,   2.84701416e+03,
#    3.46531448e+03,  3.34670329e+02,   7.88492138e+02,   1.36536723e+03,
#    1.93192962e+03,  2.53436710e+03,   3.13698768e+03,   3.64135898e+03,
#    1.96152164e+01,  4.30704295e+02,   1.08546714e+03,   1.62322271e+03,
#    2.23308037e+03,  2.79012942e+03,   3.16317851e+02,   8.04483424e+02,
#    1.30105685e+03,  1.92375036e+03,   1.06966504e+03,   1.58475993e+03])
# turbineYoptXY = np.array([    5.96179678 ,    8.41178565 ,   19.90998261 ,  403.52020005,   487.51119414,
#    529.63058749 ,  558.16046347,   636.74515979 ,  932.06577682,   996.09368606,
#   1030.0555613  , 1078.1241112 ,  1082.997087   , 1105.86393307,  1483.69947921,
#   1522.15853244 , 1538.69420215,  1546.42624459 , 1556.97242871,  1592.20631442,
#   1633.284      , 2046.44771216,  2049.79602541 , 2060.82705369,  2075.5604536,
#   2093.19354768 , 2114.11724017,  2183.62367092 , 2587.49853571,  2589.93456222,
#   2594.03812402 , 2609.57394084,  2612.99724227 , 2651.16200026,  3040.45514463,
#   3001.53608378 , 3128.58176805,  3113.33961726 , 3130.46762743,  3129.57353227,
#   3164.25311369 , 3641.92308981,  3537.00301337 , 3567.09645254,  3640.7846954,
#   3654.32875358 , 3689.72810109,  3613.87889096 , 3885.61158172,  4070.50942825,
#   4105.3435327  , 4063.14206301,  4189.43565096 , 4168.66034541,  4401.65850536,
#   4455.76597777, 4598.55535345,  4635.31668121 , 4838.04864516,  4886.2048084 ])
#
#
# startX, startY = amaliaLayout()
# plt.plot(turbineXoptXY,turbineYoptXY,'ob')
# plt.plot(startX,startY,'or')
#
# for i in range(len(startX)):
#     plt.plot(np.array([startX[i],turbineXoptXY[i]]),np.array([startY[i],turbineYoptXY[i]]),'--k')
# plt.show()


# turbineX = np.array([   90.298508 ,
#    155.262800  ,
#    233.738977  ,
#   70.286379    ,
#  165.067084    ,
#  182.309432    ,
#  297.470351    ,
#  316.282984    ,
#   43.224253    ,
#      58.566446 ,
#    300.238050  ,
#    328.665026  ,
#    327.388458  ,
#    343.663390  ,
#     20.683050  ,
#     54.352222  ,
#    309.512770  ,
#    326.775251  ,
#    345.388818  ,
#    362.583109  ,
#    379.794647  ,
#     37.516991  ,
#     54.771210  ,
#     72.004292  ,
#    344.973348  ,
#    362.041246  ,
#    379.032313  ,
#     19.317168  ,
#     35.980271  ,
#     52.360937  ,
#    326.823282  ,
#    343.898114  ,
#    361.067055  ,
#    377.802154  ,
#      0.058716  ,
#      5.442075  ,
#     22.842260  ,
#     40.046833  ,
#    340.498921  ,
#    357.678520  ,
#    374.939716  ,
#     16.764158  ,
#    252.837519  ,
#    270.156635  ,
#    287.513968  ,
#    304.779563  ,
#    321.974699  ,
#    339.028919  ,
#      1.987179  ,
#      1.505881  ,
#     20.103199  ,
#    238.909061  ,
#    256.288963  ,
#    273.539201  ,
#     51.499146  ,
#     68.151868  ,
#    192.459028  ,
#    209.538851  ,
#    151.134100  ,
#    168.369400  ])*10.
# turbineY = np.array([14.760692    ,
# -0.000000    ,
# 12.306316    ,
# 54.117877    ,
# 24.388189    ,
# 36.718311    ,
# 48.771174    ,
# 62.090479    ,
# 07.340059    ,
# 77.167080    ,
#     75.942939,
#     88.380191,
#    116.940994,
#    103.359497,
#    156.370165,
#    125.381645,
#    128.333550,
#    140.635471,
#    152.950759,
#    165.347810,
#    177.720908,
#    169.252282,
#    181.565790,
#    193.908862,
#    189.449457,
#    202.019954,
#    214.694115,
#    242.423888,
#    229.321540,
#    215.867755,
#    226.823234,
#    239.384310,
#    251.816445,
#    264.826710,
#    297.702193,
#    258.449256,
#    270.555623,
#    282.938403,
#    278.952954,
#    291.370358,
#    303.674081,
#    310.750516,
#    316.078886,
#    328.300945,
#    340.468670,
#    352.766219,
#    365.162098,
#    377.751144,
#    389.786310,
#    366.804321,
#    378.779933,
#    395.978948,
#    408.114415,
#    420.433498,
#    451.674383,
#    438.558842,
#    449.590872,
#    462.145169,
#    476.637027,
#    488.977000])*10.
#
# startX, startY = amaliaLayout()
# print len(turbineX)
# print len(turbineY)
# plt.plot(turbineX,turbineY,'ob')
# plt.plot(startX,startY,'or')
#
# for i in range(len(turbineX)):
#     plt.plot(np.array([startX[i],turbineX[i]]),np.array([startY[i],turbineY[i]]),'--k')
# plt.show()
#
#
# # turbineX_0    c	       1.80e+307
# # turbineX_1    c	        1.80e+307
# # turbineX_2    c	        1.80e+307
# # turbineX_3    c	      1.80e+307
# # turbineX_4    c	      1.80e+307
# # turbineX_5    c	      1.80e+307
# # turbineX_6    c	      1.80e+307
# # turbineX_7    c	      1.80e+307
# # turbineX_8    c	      1.80e+307
# # turbineX_9    c	         1.80e+307
# # turbineX_10    c	    1.80e+307
# # turbineX_11    c	    1.80e+307
# # turbineX_12    c	    1.80e+307
# # turbineX_13    c	    1.80e+307
# # turbineX_14    c	    1.80e+307
# # turbineX_15    c	    1.80e+307
# # turbineX_16    c	    1.80e+307
# # turbineX_17    c	    1.80e+307
# # turbineX_18    c	    1.80e+307
# # turbineX_19    c	    1.80e+307
# # turbineX_20    c	    1.80e+307
# # turbineX_21    c	    1.80e+307
# # turbineX_22    c	    1.80e+307
# # turbineX_23    c	    1.80e+307
# # turbineX_24    c	    1.80e+307
# # turbineX_25    c	    1.80e+307
# # turbineX_26    c	    1.80e+307
# # turbineX_27    c	    1.80e+307
# # turbineX_28    c	    1.80e+307
# # turbineX_29    c	    1.80e+307
# # turbineX_30    c	    1.80e+307
# # turbineX_31    c	    1.80e+307
# # turbineX_32    c	    1.80e+307
# # turbineX_33    c	    1.80e+307
# # turbineX_34    c	    1.80e+307
# # turbineX_35    c	    1.80e+307
# # turbineX_36    c	    1.80e+307
# # turbineX_37    c	    1.80e+307
# # turbineX_38    c	    1.80e+307
# # turbineX_39    c	    1.80e+307
# # turbineX_40    c	    1.80e+307
# # turbineX_41    c	    1.80e+307
# # turbineX_42    c	    1.80e+307
# # turbineX_43    c	    1.80e+307
# # turbineX_44    c	    1.80e+307
# # turbineX_45    c	    1.80e+307
# # turbineX_46    c	    1.80e+307
# # turbineX_47    c	    1.80e+307
# # turbineX_48    c	    1.80e+307
# # turbineX_49    c	    1.80e+307
# # turbineX_50    c	    1.80e+307
# # turbineX_51    c	    1.80e+307
# # turbineX_52    c	    1.80e+307
# # turbineX_53    c	    1.80e+307
# # turbineX_54    c	    1.80e+307
# # turbineX_55    c	    1.80e+307
# # turbineX_56    c	    1.80e+307
# # turbineX_57    c	    1.80e+307
# # turbineX_58    c	    1.80e+307
# # turbineX_59    c	    1.80e+307
# # turbineY_0    c	      -1.80e+307    1.80e+307
# # turbineY_1    c	      -1.80e+307    1.80e+307
# # turbineY_2    c	      -1.80e+307    1.80e+307
# # turbineY_3    c	      -1.80e+307    1.80e+307
# # turbineY_4    c	      -1.80e+307    1.80e+307
# # turbineY_5    c	      -1.80e+307    1.80e+307
# # turbineY_6    c	      -1.80e+307    1.80e+307
# # turbineY_7    c	      -1.80e+307    1.80e+307
# # turbineY_8    c	    1 -1.80e+307    1.80e+307
# # turbineY_9    c	      -1.80e+307    1.80e+307
# # turbineY_10    c	      -1.80e+307    1.80e+307
# # turbineY_11    c	      -1.80e+307    1.80e+307
# # turbineY_12    c	      -1.80e+307    1.80e+307
# # turbineY_13    c	      -1.80e+307    1.80e+307
# # turbineY_14    c	      -1.80e+307    1.80e+307
# # turbineY_15    c	      -1.80e+307    1.80e+307
# # turbineY_16    c	      -1.80e+307    1.80e+307
# # turbineY_17    c	      -1.80e+307    1.80e+307
# # turbineY_18    c	      -1.80e+307    1.80e+307
# # turbineY_19    c	      -1.80e+307    1.80e+307
# # turbineY_20    c	      -1.80e+307    1.80e+307
# # turbineY_21    c	      -1.80e+307    1.80e+307
# # turbineY_22    c	      -1.80e+307    1.80e+307
# # turbineY_23    c	      -1.80e+307    1.80e+307
# # turbineY_24    c	      -1.80e+307    1.80e+307
# # turbineY_25    c	      -1.80e+307    1.80e+307
# # turbineY_26    c	      -1.80e+307    1.80e+307
# # turbineY_27    c	      -1.80e+307    1.80e+307
# # turbineY_28    c	      -1.80e+307    1.80e+307
# # turbineY_29    c	      -1.80e+307    1.80e+307
# # turbineY_30    c	      -1.80e+307    1.80e+307
# # turbineY_31    c	      -1.80e+307    1.80e+307
# # turbineY_32    c	      -1.80e+307    1.80e+307
# # turbineY_33    c	      -1.80e+307    1.80e+307
# # turbineY_34    c	      -1.80e+307    1.80e+307
# # turbineY_35    c	      -1.80e+307    1.80e+307
# # turbineY_36    c	      -1.80e+307    1.80e+307
# # turbineY_37    c	      -1.80e+307    1.80e+307
# # turbineY_38    c	      -1.80e+307    1.80e+307
# # turbineY_39    c	      -1.80e+307    1.80e+307
# # turbineY_40    c	      -1.80e+307    1.80e+307
# # turbineY_41    c	      -1.80e+307    1.80e+307
# # turbineY_42    c	      -1.80e+307    1.80e+307
# # turbineY_43    c	      -1.80e+307    1.80e+307
# # turbineY_44    c	      -1.80e+307    1.80e+307
# # turbineY_45    c	      -1.80e+307    1.80e+307
# # turbineY_46    c	      -1.80e+307    1.80e+307
# # turbineY_47    c	      -1.80e+307    1.80e+307
# # turbineY_48    c	      -1.80e+307    1.80e+307
# # turbineY_49    c	      -1.80e+307    1.80e+307
# # turbineY_50    c	      -1.80e+307    1.80e+307
# # turbineY_51    c	      -1.80e+307    1.80e+307
# # turbineY_52    c	      -1.80e+307    1.80e+307
# # turbineY_53    c	      -1.80e+307    1.80e+307
# # turbineY_54    c	      -1.80e+307    1.80e+307
# # turbineY_55    c	      -1.80e+307    1.80e+307
# # turbineY_56    c	      -1.80e+307    1.80e+307
# # turbineY_57    c	      -1.80e+307    1.80e+307
# # turbineY_58    c	      -1.80e+307    1.80e+307
# # turbineY_59    c	      -1.80e+307    1.80e+307
# #
# #
# #
# #
# #
# #
# #      """"COE:  21.004324107
# # rotor diameter 0:  105.987086378
# # turbineH 0:  62.993543189
# # rating 0:  2456.55722394
# # diam 0:  [ 3.87  3.87  3.87]
# # t 0:  [ 0.01311299  0.00918398  0.00737414]
# # rotor diameter 1:  153.799387573
# # turbineH 1:  86.8996937866
# # rating 1:  5634.60778961
# # diam 1:  [ 4.3450985   4.28639137  3.87      ]
# # t 1:  [ 0.02575311  0.0162448   0.01030177]
# # hGroup:  [ 0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.
# #   0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.
# #   0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.
# #   0.  1.  0.  1.  0.  1.]
# # wtPower0:  [ 1888.49774566  5609.30175408  2449.82906427  4859.14905334  2406.23012554
# #   5603.14974873  2449.66056041  5631.17631394  2123.97322753  4901.71913298
# #   2420.79357781  5613.52392682  2430.74424854  5631.17631394  2217.02243048
# #   5119.99357669  2419.63003553  5617.30494479  2431.72644654  5620.19128472
# #   2449.82906427  4911.77927895  2247.82529435  4990.4666079   2425.74110125
# #   5626.23297458  2449.82906427  4904.65540711  2230.61155232  5047.14440273
# #   2425.81343209  5621.68405644  2447.81817017  5631.17631394  2195.92898046
# #   5099.3502074   2197.96698305  5032.67101038  2412.34170574  5617.48683714
# #   2449.82906427  5176.83597658  2383.58722243  5609.8151079   2426.03057719
# #   5620.85442768  2438.57621934  5631.17631394  2043.19349719  5003.68811836
# #   2145.48079475  5580.36634295  2427.45945406  5631.17631394  1848.91132109
# #   5440.60271383  2437.47038604  5631.17631394  2401.65871521  5631.17631394]
# # [Finished in 6941.954s]"""
#
#
#
#
# """amalia, all directions, all turbines
#
# COE:  38.3155382184
# rotor diameter 0:  98.7200316889
# turbineH 0:  59.3600158444
# rating 0:  1467.6500802
# diam 0:  [ 3.87  3.87  3.87]
# t 0:  [ 0.01021819  0.00757821  0.00663041]
# rotor diameter 1:  159.99
# turbineH 1:  128.159349854
# rating 1:  3604.21343464
# diam 1:  [ 6.3        4.7515362  3.87     ]
# t 1:  [ 0.0200858   0.01623167  0.00975147]
# hGroup:  [ 0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.
#   0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.
#   0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.  0.  1.
#   0.  1.  0.  1.  0.  1.]
# wtPower0:  [  424.35015735  1398.84202954   287.27882468  1442.54977536   401.78305994
#   1419.51244385   403.55780539  1299.86015973   477.04060336  1060.35176921
#    472.39250497  1137.78059121   472.27093941  1210.07430771   356.47134555
#   1546.08256917   404.88480733  1565.32040032   414.95608073  1639.17883776
#    518.71508987  1347.06272642   401.44692006  1323.50217838   424.41902825
#   1450.11629174   446.6847765   1385.31546235   469.11063912  1235.70205213
#    498.68027342  1376.58819058   524.81744504  1573.27605646   169.64608612
#   1325.17633438   493.65867585  1364.90318053   525.69546775  1499.57107363
#    528.96106171  1187.37963572   518.10086738  1643.50356767   515.33574016
#   1671.16879315   528.96106171  1671.16879315   528.96106171  1187.52180861
#    418.91611568   865.93467975   528.96106171  1671.16879315   528.96106171
#   1671.16879315   528.96106171  1671.16879315   528.96106171  1671.16879315]
# turbineX:  [ 1111.34679071  1706.12344424  2157.28648611   793.97238967  1388.05113857
#   1993.40760245  2588.59233333  3135.502        480.66752256  1088.19599764
#   1663.40230819  2277.19015672  2855.35416705  3467.56212267   218.76686382
#    763.21280602  1357.38499123  1969.27906571  2550.87086721  3127.4642119
#   3747.47187175   413.46937607  1047.18825817  1625.48813102  2242.25948375
#   2821.88456772  3419.83561319    71.62906449   714.96807878  1290.32597626
#   1921.32381186  2497.83141137  3114.52027108  3705.6746057     25.30015621
#    374.53350635   985.62236089  1591.49530549  2199.24412553  2798.40759627
#   3399.42002407    28.59925281   663.40058896  1260.40545354  1884.61245087
#   2467.68756634  3088.16385392  3656.78285639    70.47939605   338.1442462
#    936.82524119  1559.33119407  2169.32814148  2768.59764399   387.43386822
#    626.39691002  1245.23798399  1856.79991255  1078.17302797  1575.73260004]
# turbineY:  [    7.67445581     5.11651481    48.87306938   477.62424611   506.11380955
#    527.49991322   541.9602477    579.715        999.2595451   1009.95611897
#   1024.16439629  1046.25297305  1054.76099004  1080.21141678  1493.23606782
#   1471.53497816  1502.81062748  1532.95954692  1544.10550799  1569.12469177
#   1587.73903204  1943.17913501  1987.05664133  1996.53902882  2032.36865223
#   2044.26886583  2091.04826892  2469.23684711  2498.72656445  2498.36122032
#   2530.2715108   2533.50577923  2573.24245879  2584.69982531  3137.27601178
#   3015.87612145  3018.86638694  3041.22964023  3057.0936755   3075.55260258
#   3084.17027633  3518.09975294  3540.71039757  3555.71333801  3570.48573322
#   3586.36600506  3597.73382863  3603.82651648  3847.18516084  4075.68204452
#   4075.72961254  4092.61568327  4108.34533103  4130.340068    4379.2280057
#   4581.27747227  4611.24884575  4629.07274351  4826.49567755  4883.09408464]
#
#  """
